{"ast":null,"code":"import { FormControl, FormGroup, Validators } from '@angular/forms';\nimport { take } from 'rxjs';\nimport * as ClassicEditorBuild from '@ckeditor/ckeditor5-build-classic';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"src/app/service/mostra.service\";\nimport * as i3 from \"@ng-bootstrap/ng-bootstrap\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/forms\";\nimport * as i6 from \"@ckeditor/ckeditor5-angular\";\nfunction AddMostraComponent_p_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 15);\n    i0.ɵɵtext(1, \"Il campo titolo \\u00E8 obbligatorio\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AddMostraComponent_p_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 15);\n    i0.ɵɵtext(1, \"Il campo descrizione \\u00E8 obbligatorio\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AddMostraComponent_p_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 15);\n    i0.ɵɵtext(1, \"Il campo url immagine \\u00E8 obbligatorio\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AddMostraComponent_p_26_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 15);\n    i0.ɵɵtext(1, \"Il campo luogo \\u00E8 obbligatorio\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AddMostraComponent_p_31_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 15);\n    i0.ɵɵtext(1, \"Il campo data \\u00E8 obbligatorio\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AddMostraComponent_p_36_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 15);\n    i0.ɵɵtext(1, \"Il campo in evidenza \\u00E8 obbligatorio\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AddMostraComponent_ng_template_44_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r10 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 16)(1, \"h3\");\n    i0.ɵɵtext(2, \"Mostra Aggiunta!\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"button\", 17);\n    i0.ɵɵlistener(\"click\", function AddMostraComponent_ng_template_44_Template_button_click_3_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r10);\n      const modal_r8 = restoredCtx.$implicit;\n      return i0.ɵɵresetView(modal_r8.dismiss());\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"div\", 18)(5, \"h4\");\n    i0.ɵɵtext(6, \"Riepilogo:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"p\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"p\");\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"p\");\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"p\");\n    i0.ɵɵtext(14);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(15, \"div\", 19)(16, \"button\", 20);\n    i0.ɵɵlistener(\"click\", function AddMostraComponent_ng_template_44_Template_button_click_16_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r10);\n      const modal_r8 = restoredCtx.$implicit;\n      return i0.ɵɵresetView(modal_r8.dismiss());\n    });\n    i0.ɵɵtext(17, \"CHIUDI\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"button\", 21);\n    i0.ɵɵlistener(\"click\", function AddMostraComponent_ng_template_44_Template_button_click_18_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r10);\n      const modal_r8 = restoredCtx.$implicit;\n      return i0.ɵɵresetView(modal_r8.close());\n    });\n    i0.ɵɵtext(19, \"AGGIUNGI ALTRA MOSTRA\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r7 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(8);\n    i0.ɵɵtextInterpolate1(\"Titolo: \", ctx_r7.mostraInserita.title, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Descrizione: \", ctx_r7.mostraInserita.description, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Luogo: \", ctx_r7.mostraInserita.place, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Data di fine mostra: \", ctx_r7.mostraInserita.endDate, \"\");\n  }\n}\nexport class AddMostraComponent {\n  constructor(router, mostraService, modalService) {\n    this.router = router;\n    this.mostraService = mostraService;\n    this.modalService = modalService;\n    this.form = new FormGroup({\n      title: new FormControl('', Validators.required),\n      description: new FormControl('', Validators.required),\n      image: new FormControl('', Validators.required),\n      place: new FormControl('', Validators.required),\n      endDate: new FormControl('', Validators.required),\n      featured: new FormControl('', Validators.required),\n      published: new FormControl('')\n    });\n    this.Editor = ClassicEditorBuild;\n    this.editorConfig = {\n      toolbar: {\n        items: ['bold', 'italic', 'link', 'bulletedList', 'numberedList', '|', 'indent', 'outdent', '|', 'codeBlock', 'imageUpload', 'blockQuote', 'insertTable', 'undo', 'redo']\n      },\n      image: {\n        toolbar: ['imageStyle:full', 'imageStyle:side', '|', 'imageTextAlternative']\n      },\n      table: {\n        contentToolbar: ['tableColumn', 'tableRow', 'mergeTableCells']\n      },\n      height: 300\n    };\n  }\n  onSubmit() {\n    const newMostra = this.form.value;\n    this.mostraService.postMostra(newMostra).pipe(take(1)).subscribe({\n      next: res => {\n        console.log(res);\n        this.mostraInserita = res;\n      },\n      error: err => {\n        console.log(err);\n      }\n    });\n  }\n  open(content) {\n    this.onSubmit();\n    this.modalService.open(content, {\n      ariaLabelledBy: 'modale add mostre',\n      size: 'lg',\n      centered: true\n    }).result.then(() => {\n      this.form.reset();\n    }).catch(res => {\n      this.mostraInserita = '';\n      this.router.navigate(['mostre']);\n    });\n  }\n}\nAddMostraComponent.ɵfac = function AddMostraComponent_Factory(t) {\n  return new (t || AddMostraComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.MostraService), i0.ɵɵdirectiveInject(i3.NgbModal));\n};\nAddMostraComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: AddMostraComponent,\n  selectors: [[\"app-add-mostra\"]],\n  decls: 46,\n  vars: 9,\n  consts: [[1, \"container-main-form\"], [1, \"container-form\"], [1, \"contenitore-form\", 3, \"formGroup\", \"onSubmit\"], [1, \"form-element\"], [\"type\", \"text\", \"id\", \"title\", \"name\", \"title\", \"formControlName\", \"title\", 1, \"form-control\"], [\"class\", \"danger\", 4, \"ngIf\"], [\"name\", \"description\", \"formControlName\", \"description\", 1, \"editor\", 3, \"editor\", \"config\"], [\"type\", \"text\", \"id\", \"image\", \"name\", \"image\", \"formControlName\", \"image\", 1, \"form-control\"], [\"type\", \"text\", \"id\", \"place\", \"name\", \"place\", \"formControlName\", \"place\", 1, \"form-control\"], [\"type\", \"text\", \"label\", \"gg/mm/aa\", \"id\", \"endDate\", \"name\", \"endDate\", \"formControlName\", \"endDate\", 1, \"form-control\"], [\"type\", \"checkbox\", \"id\", \"featured\", \"name\", \"featured\", \"formControlName\", \"featured\"], [\"type\", \"checkbox\", \"id\", \"published\", \"name\", \"published\", \"formControlName\", \"published\"], [1, \"container-btn-form\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", 3, \"click\"], [\"modaleAddMostra\", \"\"], [1, \"danger\"], [1, \"modal-header\"], [\"type\", \"button\", \"aria-label\", \"close\", 1, \"btn-close\", 3, \"click\"], [1, \"modal-body\"], [1, \"modal-footer\"], [\"type\", \"button\", \"routerLink\", \"mostre\", 1, \"btn\", 3, \"click\"], [\"type\", \"button\", \"ngbAutoFocus\", \"\", \"ruterLink\", \"addMostra\", 1, \"btn\", \"btn-primary\", 3, \"click\"]],\n  template: function AddMostraComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      const _r13 = i0.ɵɵgetCurrentView();\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"h3\");\n      i0.ɵɵtext(3, \"Inserisci una mostra:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"form\", 2);\n      i0.ɵɵlistener(\"onSubmit\", function AddMostraComponent_Template_form_onSubmit_4_listener() {\n        return ctx.onSubmit();\n      });\n      i0.ɵɵelementStart(5, \"div\")(6, \"div\", 3)(7, \"label\");\n      i0.ɵɵtext(8, \"Titolo:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(9, \"input\", 4);\n      i0.ɵɵtemplate(10, AddMostraComponent_p_10_Template, 2, 0, \"p\", 5);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(11, \"div\", 3)(12, \"label\");\n      i0.ɵɵtext(13, \"Descrizione:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(14, \"br\")(15, \"ckeditor\", 6);\n      i0.ɵɵtemplate(16, AddMostraComponent_p_16_Template, 2, 0, \"p\", 5);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(17, \"div\", 3)(18, \"label\");\n      i0.ɵɵtext(19, \"Inserisci l'url dell'immagine:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(20, \"input\", 7);\n      i0.ɵɵtemplate(21, AddMostraComponent_p_21_Template, 2, 0, \"p\", 5);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(22, \"div\", 3)(23, \"label\");\n      i0.ɵɵtext(24, \"Luogo:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(25, \"input\", 8);\n      i0.ɵɵtemplate(26, AddMostraComponent_p_26_Template, 2, 0, \"p\", 5);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(27, \"div\", 3)(28, \"label\");\n      i0.ɵɵtext(29, \"Data di fine mostra:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(30, \"input\", 9);\n      i0.ɵɵtemplate(31, AddMostraComponent_p_31_Template, 2, 0, \"p\", 5);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(32, \"div\", 3)(33, \"label\");\n      i0.ɵɵtext(34, \"Vuoi metterla in evidenza nella pagina home? \");\n      i0.ɵɵelement(35, \"input\", 10);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(36, AddMostraComponent_p_36_Template, 2, 0, \"p\", 5);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(37, \"div\", 3)(38, \"label\");\n      i0.ɵɵtext(39, \"Vuoi pubblicarla? \");\n      i0.ɵɵelement(40, \"input\", 11);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(41, \"div\", 12)(42, \"button\", 13);\n      i0.ɵɵlistener(\"click\", function AddMostraComponent_Template_button_click_42_listener() {\n        i0.ɵɵrestoreView(_r13);\n        const _r6 = i0.ɵɵreference(45);\n        return i0.ɵɵresetView(ctx.open(_r6));\n      });\n      i0.ɵɵtext(43, \"Aggiungi Mostra\");\n      i0.ɵɵelementEnd()()()()()();\n      i0.ɵɵtemplate(44, AddMostraComponent_ng_template_44_Template, 20, 4, \"ng-template\", null, 14, i0.ɵɵtemplateRefExtractor);\n    }\n    if (rf & 2) {\n      let tmp_1_0;\n      let tmp_4_0;\n      let tmp_5_0;\n      let tmp_6_0;\n      let tmp_7_0;\n      let tmp_8_0;\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"formGroup\", ctx.form);\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"ngIf\", !((tmp_1_0 = ctx.form.get(\"title\")) == null ? null : tmp_1_0.valid) && ctx.form.get(\"title\").touched);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"editor\", ctx.Editor)(\"config\", ctx.editorConfig);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", !((tmp_4_0 = ctx.form.get(\"description\")) == null ? null : tmp_4_0.valid) && ctx.form.get(\"description\").touched);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngIf\", !((tmp_5_0 = ctx.form.get(\"image\")) == null ? null : tmp_5_0.valid) && ctx.form.get(\"image\").touched);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngIf\", !((tmp_6_0 = ctx.form.get(\"place\")) == null ? null : tmp_6_0.valid) && ctx.form.get(\"place\").touched);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngIf\", !((tmp_7_0 = ctx.form.get(\"endDate\")) == null ? null : tmp_7_0.valid) && ctx.form.get(\"endDate\").touched);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngIf\", !((tmp_8_0 = ctx.form.get(\"featured\")) == null ? null : tmp_8_0.valid) && ctx.form.get(\"featured\").touched);\n    }\n  },\n  dependencies: [i4.NgIf, i1.RouterLink, i5.ɵNgNoValidate, i5.DefaultValueAccessor, i5.CheckboxControlValueAccessor, i5.NgControlStatus, i5.NgControlStatusGroup, i5.FormGroupDirective, i5.FormControlName, i6.CKEditorComponent],\n  styles: [\".container-main-form[_ngcontent-%COMP%] {\\n  background-image: url(\\\"https://www.elimeli.it/wp-content/uploads/2021/10/Mostra-Steve-McCurry-Conegliano.jpg\\\");\\n  background-position: center;\\n  background-size: cover;\\n  background-repeat: no-repeat;\\n  margin: -60px;\\n  padding-top: 70px;\\n  padding-bottom: 100px;\\n}\\n\\n.container-form[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-wrap: nowrap;\\n  width: 60%;\\n  margin-left: 20%;\\n  margin-right: 20%;\\n  border-radius: 1rem;\\n  flex-direction: column;\\n  padding: 20px 20px;\\n  margin-top: 100px;\\n  background-color: rgba(255, 255, 255, 0.725);\\n}\\n.container-form[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%] {\\n  font-size: 45px;\\n  color: #c26a4a;\\n  font-weight: bold;\\n  margin-top: 10px;\\n  margin-bottom: 30px;\\n}\\n.container-form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%] {\\n  padding-bottom: 5px;\\n}\\n.container-form[_ngcontent-%COMP%]   .container-btn-form[_ngcontent-%COMP%] {\\n  color: #8CB369;\\n  border-color: #8CB369;\\n  margin-top: 25px;\\n  display: flex;\\n  flex-wrap: wrap;\\n  justify-content: center;\\n}\\n.container-form[_ngcontent-%COMP%]   .form-element[_ngcontent-%COMP%] {\\n  width: 100%;\\n  margin-bottom: 10px;\\n}\\n.container-form[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%] {\\n  width: 2% !important;\\n}\\n\\n.btn.btn-primary[_ngcontent-%COMP%] {\\n  background: #8CB369 !important;\\n  border-color: #8CB369 !important;\\n  height: 50px;\\n}\\n\\n.danger[_ngcontent-%COMP%] {\\n  color: #d02020;\\n  font-weight: bold;\\n  font-size: 12px;\\n}\\n\\n.modal-header[_ngcontent-%COMP%] {\\n  background-color: #c26a4a;\\n}\\n.modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%] {\\n  font-size: 28px;\\n  font-weight: bold;\\n  color: white;\\n  margin-left: 31%;\\n  margin-top: 10px;\\n}\\n\\n.modal-body[_ngcontent-%COMP%] {\\n  padding: 10px;\\n}\\n.modal-body[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%] {\\n  font-weight: bold;\\n  font-size: 18px;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9tb3N0cmUvYWRkLW1vc3RyYS9hZGQtbW9zdHJhLmNvbXBvbmVudC5zY3NzIiwid2VicGFjazovLy4vc3JjL3N0eWxlcy9jb2xvcnMuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFFQTtFQUNJLDhHQUFBO0VBQ0EsMkJBQUE7RUFDQSxzQkFBQTtFQUNBLDRCQUFBO0VBQ0EsYUFBQTtFQUNBLGlCQUFBO0VBQ0EscUJBQUE7QUFESjs7QUFNQTtFQUNJLGFBQUE7RUFDQSxpQkFBQTtFQUNBLFVBQUE7RUFDQSxnQkFBQTtFQUNBLGlCQUFBO0VBQ0EsbUJBQUE7RUFDQSxzQkFBQTtFQUNBLGtCQUFBO0VBQ0EsaUJBQUE7RUFVQSw0Q0FBQTtBQVpKO0FBZUk7RUFDSSxlQUFBO0VBQ0EsY0N0Q0s7RUR1Q0wsaUJBQUE7RUFDQSxnQkFBQTtFQUNBLG1CQUFBO0FBYlI7QUFpQkk7RUFDSSxtQkFBQTtBQWZSO0FBa0JJO0VBQ0ksY0MvQ0E7RURnREEscUJDaERBO0VEaURBLGdCQUFBO0VBQ0EsYUFBQTtFQUNBLGVBQUE7RUFDQSx1QkFBQTtBQWhCUjtBQW9CSTtFQUNJLFdBQUE7RUFDQSxtQkFBQTtBQWxCUjtBQXFCSTtFQUNJLG9CQUFBO0FBbkJSOztBQXVCQTtFQUNJLDhCQUFBO0VBQ0EsZ0NBQUE7RUFDQSxZQUFBO0FBcEJKOztBQXlCQTtFQUNJLGNBQUE7RUFDQSxpQkFBQTtFQUNBLGVBQUE7QUF0Qko7O0FBMEJBO0VBQ0kseUJDckZTO0FEOERiO0FBeUJJO0VBQ0ksZUFBQTtFQUNBLGlCQUFBO0VBQ0EsWUFBQTtFQUNBLGdCQUFBO0VBQ0EsZ0JBQUE7QUF2QlI7O0FBMkJBO0VBQ0ksYUFBQTtBQXhCSjtBQTBCSTtFQUNJLGlCQUFBO0VBQ0EsZUFBQTtBQXhCUiIsInNvdXJjZXNDb250ZW50IjpbIkBpbXBvcnQgXCIuLi8uLi8uLi8uLi9zdHlsZXMvY29sb3JzLnNjc3NcIjtcblxuLmNvbnRhaW5lci1tYWluLWZvcm17XG4gICAgYmFja2dyb3VuZC1pbWFnZTogdXJsKCdodHRwczovL3d3dy5lbGltZWxpLml0L3dwLWNvbnRlbnQvdXBsb2Fkcy8yMDIxLzEwL01vc3RyYS1TdGV2ZS1NY0N1cnJ5LUNvbmVnbGlhbm8uanBnJyk7XG4gICAgYmFja2dyb3VuZC1wb3NpdGlvbjogY2VudGVyO1xuICAgIGJhY2tncm91bmQtc2l6ZTogY292ZXI7XG4gICAgYmFja2dyb3VuZC1yZXBlYXQ6IG5vLXJlcGVhdDtcbiAgICBtYXJnaW46IC02MHB4O1xuICAgIHBhZGRpbmctdG9wOiA3MHB4O1xuICAgIHBhZGRpbmctYm90dG9tOiAxMDBweDtcblxuXG5cbn1cbi5jb250YWluZXItZm9ybXtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGZsZXgtd3JhcDogbm93cmFwO1xuICAgIHdpZHRoOiA2MCU7XG4gICAgbWFyZ2luLWxlZnQ6IDIwJTtcbiAgICBtYXJnaW4tcmlnaHQ6IDIwJTtcbiAgICBib3JkZXItcmFkaXVzOiAxcmVtO1xuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgcGFkZGluZzogMjBweCAyMHB4O1xuICAgIG1hcmdpbi10b3A6IDEwMHB4O1xuICAgIC8vIGRpc3BsYXk6IGZsZXg7XG4gICAgLy8gYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAvLyBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgIC8vIGZsZXgtd3JhcDogd3JhcDtcbiAgICAvLyBhbGlnbi1jb250ZW50OiBjZW50ZXI7XG4gICAgLy8ganVzdGlmeS1jb250ZW50OiBzcGFjZS1ldmVubHk7XG4gICAgLy8gd2lkdGg6IDUwJTtcbiAgICAvLyBtYXJnaW4tbGVmdDogMjUlO1xuICAgIC8vIHBhZGRpbmc6IDIwcHggMHB4O1xuICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC43MjUpO1xuICAgIC8vYm9yZGVyLXJhZGl1czogMXJlbTtcblxuICAgIGgze1xuICAgICAgICBmb250LXNpemU6IDQ1cHg7XG4gICAgICAgIGNvbG9yOiAkdGVycmFjb3R0YTtcbiAgICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gICAgICAgIG1hcmdpbi10b3A6IDEwcHg7XG4gICAgICAgIG1hcmdpbi1ib3R0b206IDMwcHg7XG5cbiAgICB9XG5cbiAgICBsYWJlbHtcbiAgICAgICAgcGFkZGluZy1ib3R0b206IDVweDtcbiAgICB9XG5cbiAgICAuY29udGFpbmVyLWJ0bi1mb3Jte1xuICAgICAgICBjb2xvcjogJG9saXZhO1xuICAgICAgICBib3JkZXItY29sb3I6ICRvbGl2YTtcbiAgICAgICAgbWFyZ2luLXRvcDogMjVweDtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgZmxleC13cmFwOiB3cmFwO1xuICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICAgICAgXG4gICAgfVxuXG4gICAgLmZvcm0tZWxlbWVudHtcbiAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgIG1hcmdpbi1ib3R0b206IDEwcHg7XG4gICAgfVxuXG4gICAgLmNoZWNrYm94e1xuICAgICAgICB3aWR0aDogMiUhaW1wb3J0YW50O1xuICAgIH1cbn1cblxuLmJ0bi5idG4tcHJpbWFyeXtcbiAgICBiYWNrZ3JvdW5kOiAkb2xpdmEhaW1wb3J0YW50O1xuICAgIGJvcmRlci1jb2xvcjogJG9saXZhIWltcG9ydGFudDtcbiAgICBoZWlnaHQ6IDUwcHg7XG5cbn1cblxuXG4uZGFuZ2VyIHtcbiAgICBjb2xvcjogI2QwMjAyMDtcbiAgICBmb250LXdlaWdodDogYm9sZDtcbiAgICBmb250LXNpemU6IDEycHg7XG59XG5cblxuLm1vZGFsLWhlYWRlcntcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAkdGVycmFjb3R0YTtcblxuICAgIGgze1xuICAgICAgICBmb250LXNpemU6IDI4cHg7XG4gICAgICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xuICAgICAgICBjb2xvcjogd2hpdGU7XG4gICAgICAgIG1hcmdpbi1sZWZ0OiAzMSU7XG4gICAgICAgIG1hcmdpbi10b3A6IDEwcHg7XG4gICAgfVxufVxuXG4ubW9kYWwtYm9keXtcbiAgICBwYWRkaW5nOiAxMHB4O1xuXG4gICAgaDR7XG4gICAgICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xuICAgICAgICBmb250LXNpemU6IDE4cHg7XG4gICAgfVxufVxuXG5cbiIsIiR0ZXJyYWNvdHRhOiAjYzI2YTRhO1xuJG9jcmE6ICNGNEEyNTk7XG4kYmx1LXZlcmRlOiAjNGY4Yzc4O1xuJG9saXZhOiAjOENCMzY5O1xuIl0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["FormControl","FormGroup","Validators","take","ClassicEditorBuild","i0","AddMostraComponent","constructor","router","mostraService","modalService","title","required","description","image","place","endDate","featured","published","toolbar","items","table","contentToolbar","height","onSubmit","newMostra","form","value","postMostra","pipe","subscribe","next","res","console","log","mostraInserita","error","err","open","content","ariaLabelledBy","size","centered","result","then","reset","catch","navigate","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["/Users/giulia/Documents/Progetti/roma_in_mostra/client/src/app/components/mostre/add-mostra/add-mostra.component.ts","/Users/giulia/Documents/Progetti/roma_in_mostra/client/src/app/components/mostre/add-mostra/add-mostra.component.html"],"sourcesContent":["import { MostraService } from 'src/app/service/mostra.service';\nimport { Component } from '@angular/core';\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { NgbModal } from '@ng-bootstrap/ng-bootstrap';\nimport { take } from 'rxjs';\nimport { Mostra } from 'src/app/models/mostra.model';\nimport * as ClassicEditorBuild from '@ckeditor/ckeditor5-build-classic';\n\n@Component({\n  selector: 'app-add-mostra',\n  templateUrl: './add-mostra.component.html',\n  styleUrls: ['./add-mostra.component.scss']\n})\nexport class AddMostraComponent {\n\n  mostraInserita: any;\n\n  form = new FormGroup({\n    title: new FormControl('', Validators.required),\n    description: new FormControl('', Validators.required),\n    image: new FormControl('', Validators.required),\n    place: new FormControl('', Validators.required),\n    endDate: new FormControl('', Validators.required),\n    featured: new FormControl('', Validators.required),\n    published: new FormControl(''),\n  })\n\n\n  Editor = ClassicEditorBuild;\n\n  editorConfig = {\n    toolbar: {\n        items: [\n            'bold',\n            'italic',\n            'link',\n            'bulletedList',\n            'numberedList',\n            '|',\n            'indent',\n            'outdent',\n            '|',\n            'codeBlock',\n            'imageUpload',\n            'blockQuote',\n            'insertTable',\n            'undo',\n            'redo',\n        ]\n    },\n    image: {\n        toolbar: [\n            'imageStyle:full',\n            'imageStyle:side',\n            '|',\n            'imageTextAlternative'\n        ]\n    },\n    table: {\n        contentToolbar: [\n            'tableColumn',\n            'tableRow',\n            'mergeTableCells'\n        ]\n    },\n    height: 300,\n};\n\n\n  constructor(\n    private router: Router,\n    private mostraService: MostraService,\n    private modalService: NgbModal\n  ){}\n\n  onSubmit(){\n    const newMostra = this.form.value;\n\n    this.mostraService.postMostra(newMostra).pipe(take(1))\n    .subscribe({\n      next: (res) => {\n        console.log(res);\n        this.mostraInserita = res;\n      },\n      error: (err) => {\n        console.log(err)\n      }});\n  }\n\n  open(content: any){\n    this.onSubmit();\n    this.modalService.open(content, { ariaLabelledBy: 'modale add mostre', size: 'lg', centered: true}).result.then(() =>{\n      this.form.reset();\n\n    }).catch((res) => {\n      this.mostraInserita = '';\n      this.router.navigate(['mostre']);\n    });\n   }\n\n\n\n}\n","<div class=\"container-main-form\">\n    <div class=\"container-form\">\n        <h3>Inserisci una mostra:</h3>\n        <form class=\"contenitore-form\" [formGroup]=\"form\" (onSubmit)=\"onSubmit()\">\n            <div>\n                <div class=\"form-element\">\n                    <label>Titolo:</label>\n                    <input type=\"text\" id=\"title\" name=\"title\" class=\"form-control\" formControlName=\"title\"/>\n                    <p class=\"danger\" *ngIf=\"!form.get('title')?.valid && form.get('title').touched\">Il campo titolo è obbligatorio</p>\n                </div>\n    \n                <div class=\"form-element\">\n                    <label>Descrizione:</label>\n                    <br>\n                    <ckeditor [editor]=\"Editor\" [config]=\"editorConfig\" name=\"description\" class=\"editor\" formControlName=\"description\"></ckeditor>\n                    <!-- <textarea rows = \"5\" cols = \"60\" name = \"description\" class=\"form-control\" formControlName=\"description\"></textarea> -->\n                    <p class=\"danger\" *ngIf=\"!form.get('description')?.valid && form.get('description').touched\">Il campo descrizione è obbligatorio</p>\n                </div>\n    \n                <div class=\"form-element\">\n                    <label>Inserisci l'url dell'immagine:</label>\n                    <input type=\"text\" id=\"image\" name=\"image\" class=\"form-control\" formControlName=\"image\"/>\n                    <p class=\"danger\" *ngIf=\"!form.get('image')?.valid && form.get('image').touched\">Il campo url immagine è obbligatorio</p>\n                </div>\n\n                <div class=\"form-element\">\n                    <label>Luogo:</label>\n                    <input type=\"text\" id=\"place\" name=\"place\" class=\"form-control\" formControlName=\"place\"/>\n                    <p class=\"danger\" *ngIf=\"!form.get('place')?.valid && form.get('place').touched\">Il campo luogo è obbligatorio</p>\n                </div>\n\n                <div class=\"form-element\">\n                    <label>Data di fine mostra:</label>\n                    <input type=\"text\" label=\"gg/mm/aa\" id=\"endDate\" name=\"endDate\" class=\"form-control\" formControlName=\"endDate\"/>\n                    <p class=\"danger\" *ngIf=\"!form.get('endDate')?.valid && form.get('endDate').touched\">Il campo data è obbligatorio</p>\n                </div>\n\n                <div class=\"form-element\">\n                    <label>Vuoi metterla in evidenza nella pagina home?\n                    <input type=\"checkbox\" id=\"featured\" name=\"featured\" formControlName=\"featured\"/>\n                    </label>\n                    <p class=\"danger\" *ngIf=\"!form.get('featured')?.valid && form.get('featured').touched\">Il campo in evidenza è obbligatorio</p>\n                </div>\n\n                <div class=\"form-element\">\n                    <label>Vuoi pubblicarla?\n                    <input type=\"checkbox\" id=\"published\" name=\"published\" formControlName=\"published\"/>\n                    </label>\n                </div>\n\n                \n                <div class=\"container-btn-form\">\n                    <button type=\"submit\" class=\"btn btn-primary\" (click)=\"open(modaleAddMostra)\">Aggiungi Mostra</button>\n                </div>\n            </div>  \n\n        </form> \n    </div>\n</div>\n\n<ng-template #modaleAddMostra let-modal>\n    <div class=\"modal-header\">\n        <h3>Mostra Aggiunta!</h3>\n        <button type=\"button\" class=\"btn-close\" aria-label=\"close\" (click)=\"modal.dismiss()\"></button>\n      </div>\n      <div class=\"modal-body\">\n        <h4>Riepilogo:</h4>\n        <p>Titolo: {{mostraInserita.title}}</p>\n        <p>Descrizione: {{mostraInserita.description}}</p>\n        <p>Luogo: {{mostraInserita.place}}</p>\n        <p>Data di fine mostra: {{mostraInserita.endDate}}</p>\n    </div>\n      <div class=\"modal-footer\">\n        <button type=\"button\" class=\"btn\" (click)=\"modal.dismiss()\" routerLink=\"mostre\">CHIUDI</button>\n        <button type=\"button\" class=\"btn btn-primary\" (click)=\"modal.close()\" ngbAutoFocus ruterLink=\"addMostra\">AGGIUNGI ALTRA MOSTRA</button>\n      </div>\n</ng-template>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}