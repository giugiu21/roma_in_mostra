{"ast":null,"code":"import { FormControl, FormGroup, Validators } from '@angular/forms';\nimport { take } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"src/app/service/mostra.service\";\nimport * as i3 from \"@ng-bootstrap/ng-bootstrap\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/forms\";\nfunction AddMostraComponent_p_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 15);\n    i0.ɵɵtext(1, \"Il campo titolo \\u00E8 obbligatorio\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AddMostraComponent_p_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 15);\n    i0.ɵɵtext(1, \"Il campo descrizione \\u00E8 obbligatorio\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AddMostraComponent_p_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 15);\n    i0.ɵɵtext(1, \"Il campo url immagine \\u00E8 obbligatorio\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AddMostraComponent_p_26_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 15);\n    i0.ɵɵtext(1, \"Il campo luogo \\u00E8 obbligatorio\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AddMostraComponent_p_31_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 15);\n    i0.ɵɵtext(1, \"Il campo data \\u00E8 obbligatorio\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AddMostraComponent_p_36_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 15);\n    i0.ɵɵtext(1, \"Il campo in evidenza \\u00E8 obbligatorio\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AddMostraComponent_ng_template_44_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r10 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 16)(1, \"h3\");\n    i0.ɵɵtext(2, \"Mostra Aggiunta!\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"button\", 17);\n    i0.ɵɵlistener(\"click\", function AddMostraComponent_ng_template_44_Template_button_click_3_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r10);\n      const modal_r8 = restoredCtx.$implicit;\n      return i0.ɵɵresetView(modal_r8.dismiss());\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"div\", 18)(5, \"h4\");\n    i0.ɵɵtext(6, \"Riepilogo:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"p\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"p\");\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"p\");\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"p\");\n    i0.ɵɵtext(14);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(15, \"div\", 19)(16, \"button\", 20);\n    i0.ɵɵlistener(\"click\", function AddMostraComponent_ng_template_44_Template_button_click_16_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r10);\n      const modal_r8 = restoredCtx.$implicit;\n      return i0.ɵɵresetView(modal_r8.dismiss());\n    });\n    i0.ɵɵtext(17, \"CHIUDI\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"button\", 21);\n    i0.ɵɵlistener(\"click\", function AddMostraComponent_ng_template_44_Template_button_click_18_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r10);\n      const modal_r8 = restoredCtx.$implicit;\n      return i0.ɵɵresetView(modal_r8.close());\n    });\n    i0.ɵɵtext(19, \"AGGIUNGI ALTRA RICETTA\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r7 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(8);\n    i0.ɵɵtextInterpolate1(\"Titolo: \", ctx_r7.mostraInserita.title, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Descrizione: \", ctx_r7.mostraInserita.description, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Luogo: \", ctx_r7.mostraInserita.place, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Data di fine mostra: \", ctx_r7.mostraInserita.endDate, \"\");\n  }\n}\nexport class AddMostraComponent {\n  constructor(router, mostraService, modalService) {\n    this.router = router;\n    this.mostraService = mostraService;\n    this.modalService = modalService;\n    this.form = new FormGroup({\n      title: new FormControl('', Validators.required),\n      description: new FormControl('', Validators.required),\n      image: new FormControl('', Validators.required),\n      place: new FormControl('', Validators.required),\n      endDate: new FormControl('', Validators.required),\n      featured: new FormControl('', Validators.required),\n      published: new FormControl('')\n    });\n  }\n  onSubmit() {\n    const newMostra = this.form.valueChanges;\n    this.mostraService.postMostra(newMostra).pipe(take(1)).subscribe({\n      next: res => {\n        console.log(res);\n        this.mostraInserita = res;\n      },\n      error: err => {\n        console.log(err);\n      }\n    });\n  }\n  open(content) {\n    this.onSubmit();\n    this.modalService.open(content, {\n      ariaLabelledBy: 'modale add mostre',\n      size: 'lg',\n      centered: true\n    }).result.then(() => {\n      this.form.reset();\n    }).catch(res => {\n      this.mostraInserita = '';\n      this.router.navigate(['mostre']);\n    });\n  }\n}\nAddMostraComponent.ɵfac = function AddMostraComponent_Factory(t) {\n  return new (t || AddMostraComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.MostraService), i0.ɵɵdirectiveInject(i3.NgbModal));\n};\nAddMostraComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: AddMostraComponent,\n  selectors: [[\"app-add-mostra\"]],\n  decls: 46,\n  vars: 7,\n  consts: [[1, \"container-main-form\"], [1, \"container-form\"], [1, \"contenitore-form\", 3, \"formGroup\", \"onSubmit\"], [1, \"form-element\"], [\"type\", \"text\", \"id\", \"title\", \"name\", \"title\", \"formControlName\", \"title\", 1, \"form-control\"], [\"class\", \"danger\", 4, \"ngIf\"], [\"rows\", \"5\", \"cols\", \"60\", \"name\", \"description\", \"formControlName\", \"description\", 1, \"form-control\"], [\"type\", \"text\", \"id\", \"image\", \"name\", \"image\", \"formControlName\", \"image\", 1, \"form-control\"], [\"type\", \"text\", \"id\", \"place\", \"name\", \"place\", \"formControlName\", \"place\", 1, \"form-control\"], [\"type\", \"text\", \"label\", \"gg/mm/aa\", \"id\", \"endDate\", \"name\", \"endDate\", \"formControlName\", \"endDate\", 1, \"form-control\"], [\"type\", \"checkbox\", \"id\", \"featured\", \"name\", \"featured\", \"formControlName\", \"featured\"], [\"type\", \"checkbox\", \"id\", \"published\", \"name\", \"published\", \"formControlName\", \"published\"], [1, \"container-btn-form\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", 3, \"click\"], [\"modaleAddMostra\", \"\"], [1, \"danger\"], [1, \"modal-header\"], [\"type\", \"button\", \"aria-label\", \"close\", 1, \"btn-close\", 3, \"click\"], [1, \"modal-body\"], [1, \"modal-footer\"], [\"type\", \"button\", \"routerLink\", \"mostre\", 1, \"btn\", 3, \"click\"], [\"type\", \"button\", \"ngbAutoFocus\", \"\", \"ruterLink\", \"addMostra\", 1, \"btn\", \"btn-primary\", 3, \"click\"]],\n  template: function AddMostraComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      const _r13 = i0.ɵɵgetCurrentView();\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"h3\");\n      i0.ɵɵtext(3, \"Inserisci una nuova mostra\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"form\", 2);\n      i0.ɵɵlistener(\"onSubmit\", function AddMostraComponent_Template_form_onSubmit_4_listener() {\n        return ctx.onSubmit();\n      });\n      i0.ɵɵelementStart(5, \"div\")(6, \"div\", 3)(7, \"label\");\n      i0.ɵɵtext(8, \"Titolo:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(9, \"input\", 4);\n      i0.ɵɵtemplate(10, AddMostraComponent_p_10_Template, 2, 0, \"p\", 5);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(11, \"div\", 3)(12, \"label\");\n      i0.ɵɵtext(13, \"Descrizione:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(14, \"br\")(15, \"textarea\", 6);\n      i0.ɵɵtemplate(16, AddMostraComponent_p_16_Template, 2, 0, \"p\", 5);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(17, \"div\", 3)(18, \"label\");\n      i0.ɵɵtext(19, \"Inserisci l'url dell'immagine:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(20, \"input\", 7);\n      i0.ɵɵtemplate(21, AddMostraComponent_p_21_Template, 2, 0, \"p\", 5);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(22, \"div\", 3)(23, \"label\");\n      i0.ɵɵtext(24, \"Luogo:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(25, \"input\", 8);\n      i0.ɵɵtemplate(26, AddMostraComponent_p_26_Template, 2, 0, \"p\", 5);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(27, \"div\", 3)(28, \"label\");\n      i0.ɵɵtext(29, \"Data di fine mostra:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(30, \"input\", 9);\n      i0.ɵɵtemplate(31, AddMostraComponent_p_31_Template, 2, 0, \"p\", 5);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(32, \"div\", 3)(33, \"label\");\n      i0.ɵɵtext(34, \"Vuoi metterla in evidenza nella pagina home? \");\n      i0.ɵɵelement(35, \"input\", 10);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(36, AddMostraComponent_p_36_Template, 2, 0, \"p\", 5);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(37, \"div\", 3)(38, \"label\");\n      i0.ɵɵtext(39, \"Vuoi pubblicarla? \");\n      i0.ɵɵelement(40, \"input\", 11);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(41, \"div\", 12)(42, \"button\", 13);\n      i0.ɵɵlistener(\"click\", function AddMostraComponent_Template_button_click_42_listener() {\n        i0.ɵɵrestoreView(_r13);\n        const _r6 = i0.ɵɵreference(45);\n        return i0.ɵɵresetView(ctx.open(_r6));\n      });\n      i0.ɵɵtext(43, \"Pubblica Mostra\");\n      i0.ɵɵelementEnd()()()()()();\n      i0.ɵɵtemplate(44, AddMostraComponent_ng_template_44_Template, 20, 4, \"ng-template\", null, 14, i0.ɵɵtemplateRefExtractor);\n    }\n    if (rf & 2) {\n      let tmp_1_0;\n      let tmp_2_0;\n      let tmp_3_0;\n      let tmp_4_0;\n      let tmp_5_0;\n      let tmp_6_0;\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"formGroup\", ctx.form);\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"ngIf\", !((tmp_1_0 = ctx.form.get(\"title\")) == null ? null : tmp_1_0.valid) && ctx.form.get(\"title\").touched);\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"ngIf\", !((tmp_2_0 = ctx.form.get(\"description\")) == null ? null : tmp_2_0.valid) && ctx.form.get(\"description\").touched);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngIf\", !((tmp_3_0 = ctx.form.get(\"image\")) == null ? null : tmp_3_0.valid) && ctx.form.get(\"image\").touched);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngIf\", !((tmp_4_0 = ctx.form.get(\"place\")) == null ? null : tmp_4_0.valid) && ctx.form.get(\"place\").touched);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngIf\", !((tmp_5_0 = ctx.form.get(\"endDate\")) == null ? null : tmp_5_0.valid) && ctx.form.get(\"endDate\").touched);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngIf\", !((tmp_6_0 = ctx.form.get(\"featured\")) == null ? null : tmp_6_0.valid) && ctx.form.get(\"featured\").touched);\n    }\n  },\n  dependencies: [i4.NgIf, i1.RouterLink, i5.ɵNgNoValidate, i5.DefaultValueAccessor, i5.CheckboxControlValueAccessor, i5.NgControlStatus, i5.NgControlStatusGroup, i5.FormGroupDirective, i5.FormControlName],\n  styles: [\".container-main-form[_ngcontent-%COMP%] {\\n  background-image: url(\\\"https://www.elimeli.it/wp-content/uploads/2021/10/Mostra-Steve-McCurry-Conegliano.jpg\\\");\\n  background-position: center;\\n  background-size: cover;\\n  background-repeat: no-repeat;\\n  height: 1000px;\\n  margin: 0px;\\n  padding: 0px;\\n  padding-top: 70px;\\n  margin-bottom: -25px;\\n}\\n\\n.container-form[_ngcontent-%COMP%] {\\n  height: 800px;\\n  display: flex;\\n  align-items: center;\\n  flex-direction: column;\\n  flex-wrap: wrap;\\n  align-content: center;\\n  justify-content: space-evenly;\\n  width: 50%;\\n  margin-left: 25%;\\n  padding: 30px 30px;\\n  background-color: rgba(255, 255, 255, 0.725);\\n  border-radius: 1rem;\\n}\\n.container-form[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%] {\\n  font-size: 27px;\\n  color: #c26a4a;\\n  font-weight: bold;\\n  margin-bottom: -3px;\\n}\\n.container-form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%] {\\n  font-weight: bold;\\n  padding-bottom: 5px;\\n}\\n.container-form[_ngcontent-%COMP%]   .container-btn-form[_ngcontent-%COMP%] {\\n  color: #8CB369;\\n  border-color: #8CB369;\\n  margin-top: 25px;\\n  padding-left: 35%;\\n}\\n.container-form[_ngcontent-%COMP%]   .form-element[_ngcontent-%COMP%] {\\n  width: 100%;\\n  padding-left: 5%;\\n  padding-right: 5%;\\n  margin-bottom: 10px;\\n}\\n.container-form[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%] {\\n  width: 2% !important;\\n}\\n\\n.danger[_ngcontent-%COMP%] {\\n  color: #d02020;\\n  font-weight: bold;\\n  font-size: 12px;\\n}\\n\\n.modal-header[_ngcontent-%COMP%] {\\n  background-color: #c26a4a;\\n}\\n.modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%] {\\n  font-size: 28px;\\n  font-weight: bold;\\n  color: white;\\n  margin-left: 31%;\\n  margin-top: 10px;\\n}\\n\\n.modal-body[_ngcontent-%COMP%] {\\n  padding: 10px;\\n}\\n.modal-body[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%] {\\n  font-weight: bold;\\n  font-size: 18px;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9tb3N0cmUvYWRkLW1vc3RyYS9hZGQtbW9zdHJhLmNvbXBvbmVudC5zY3NzIiwid2VicGFjazovLy4vc3JjL3N0eWxlcy9jb2xvcnMuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFFQTtFQUNJLDhHQUFBO0VBQ0EsMkJBQUE7RUFDQSxzQkFBQTtFQUNBLDRCQUFBO0VBQ0EsY0FBQTtFQUNBLFdBQUE7RUFDQSxZQUFBO0VBQ0EsaUJBQUE7RUFDQSxvQkFBQTtBQURKOztBQUlBO0VBQ0ksYUFBQTtFQUNBLGFBQUE7RUFDQSxtQkFBQTtFQUNBLHNCQUFBO0VBQ0EsZUFBQTtFQUNBLHFCQUFBO0VBQ0EsNkJBQUE7RUFDQSxVQUFBO0VBQ0EsZ0JBQUE7RUFDQSxrQkFBQTtFQUNBLDRDQUFBO0VBQ0EsbUJBQUE7QUFESjtBQUdJO0VBQ0ksZUFBQTtFQUNBLGNDOUJLO0VEK0JMLGlCQUFBO0VBQ0EsbUJBQUE7QUFEUjtBQUtJO0VBQ0ksaUJBQUE7RUFDQSxtQkFBQTtBQUhSO0FBTUk7RUFDSSxjQ3ZDQTtFRHdDQSxxQkN4Q0E7RUR5Q0EsZ0JBQUE7RUFDQSxpQkFBQTtBQUpSO0FBUUk7RUFDSSxXQUFBO0VBQ0EsZ0JBQUE7RUFDQSxpQkFBQTtFQUNBLG1CQUFBO0FBTlI7QUFTSTtFQUNJLG9CQUFBO0FBUFI7O0FBV0E7RUFDSSxjQUFBO0VBQ0EsaUJBQUE7RUFDQSxlQUFBO0FBUko7O0FBWUE7RUFDSSx5QkNyRVM7QUQ0RGI7QUFXSTtFQUNJLGVBQUE7RUFDQSxpQkFBQTtFQUNBLFlBQUE7RUFDQSxnQkFBQTtFQUNBLGdCQUFBO0FBVFI7O0FBYUE7RUFDSSxhQUFBO0FBVko7QUFZSTtFQUNJLGlCQUFBO0VBQ0EsZUFBQTtBQVZSIiwic291cmNlc0NvbnRlbnQiOlsiQGltcG9ydCBcIi4uLy4uLy4uLy4uL3N0eWxlcy9jb2xvcnMuc2Nzc1wiO1xuXG4uY29udGFpbmVyLW1haW4tZm9ybXtcbiAgICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoJ2h0dHBzOi8vd3d3LmVsaW1lbGkuaXQvd3AtY29udGVudC91cGxvYWRzLzIwMjEvMTAvTW9zdHJhLVN0ZXZlLU1jQ3VycnktQ29uZWdsaWFuby5qcGcnKTtcbiAgICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiBjZW50ZXI7XG4gICAgYmFja2dyb3VuZC1zaXplOiBjb3ZlcjtcbiAgICBiYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0O1xuICAgIGhlaWdodDogMTAwMHB4O1xuICAgIG1hcmdpbjogMHB4O1xuICAgIHBhZGRpbmc6IDBweDtcbiAgICBwYWRkaW5nLXRvcDogNzBweDtcbiAgICBtYXJnaW4tYm90dG9tOiAtMjVweDtcblxufVxuLmNvbnRhaW5lci1mb3Jte1xuICAgIGhlaWdodDogODAwcHg7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgZmxleC13cmFwOiB3cmFwO1xuICAgIGFsaWduLWNvbnRlbnQ6IGNlbnRlcjtcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWV2ZW5seTtcbiAgICB3aWR0aDogNTAlO1xuICAgIG1hcmdpbi1sZWZ0OiAyNSU7XG4gICAgcGFkZGluZzogMzBweCAzMHB4O1xuICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC43MjUpO1xuICAgIGJvcmRlci1yYWRpdXM6IDFyZW07XG5cbiAgICBoM3tcbiAgICAgICAgZm9udC1zaXplOiAyN3B4O1xuICAgICAgICBjb2xvcjogJHRlcnJhY290dGE7XG4gICAgICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xuICAgICAgICBtYXJnaW4tYm90dG9tOiAtM3B4O1xuXG4gICAgfVxuXG4gICAgbGFiZWx7XG4gICAgICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xuICAgICAgICBwYWRkaW5nLWJvdHRvbTogNXB4O1xuICAgIH1cblxuICAgIC5jb250YWluZXItYnRuLWZvcm17XG4gICAgICAgIGNvbG9yOiAkb2xpdmE7XG4gICAgICAgIGJvcmRlci1jb2xvcjogJG9saXZhO1xuICAgICAgICBtYXJnaW4tdG9wOiAyNXB4O1xuICAgICAgICBwYWRkaW5nLWxlZnQ6IDM1JTtcbiAgICAgICAgXG4gICAgfVxuXG4gICAgLmZvcm0tZWxlbWVudHtcbiAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgIHBhZGRpbmctbGVmdDogNSU7XG4gICAgICAgIHBhZGRpbmctcmlnaHQ6IDUlO1xuICAgICAgICBtYXJnaW4tYm90dG9tOiAxMHB4O1xuICAgIH1cblxuICAgIC5jaGVja2JveHtcbiAgICAgICAgd2lkdGg6IDIlIWltcG9ydGFudDtcbiAgICB9XG59XG5cbi5kYW5nZXIge1xuICAgIGNvbG9yOiAjZDAyMDIwO1xuICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xuICAgIGZvbnQtc2l6ZTogMTJweDtcbn1cblxuXG4ubW9kYWwtaGVhZGVye1xuICAgIGJhY2tncm91bmQtY29sb3I6ICR0ZXJyYWNvdHRhO1xuXG4gICAgaDN7XG4gICAgICAgIGZvbnQtc2l6ZTogMjhweDtcbiAgICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gICAgICAgIGNvbG9yOiB3aGl0ZTtcbiAgICAgICAgbWFyZ2luLWxlZnQ6IDMxJTtcbiAgICAgICAgbWFyZ2luLXRvcDogMTBweDtcbiAgICB9XG59XG5cbi5tb2RhbC1ib2R5e1xuICAgIHBhZGRpbmc6IDEwcHg7XG5cbiAgICBoNHtcbiAgICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gICAgICAgIGZvbnQtc2l6ZTogMThweDtcbiAgICB9XG59XG4iLCIkdGVycmFjb3R0YTogI2MyNmE0YTtcbiRvY3JhOiAjRjRBMjU5O1xuJGJsdS12ZXJkZTogIzRmOGM3ODtcbiRvbGl2YTogIzhDQjM2OTtcbiJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n});","map":{"version":3,"mappings":"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","names":["FormControl","FormGroup","Validators","take","i0","AddMostraComponent","constructor","router","mostraService","modalService","title","required","description","image","place","endDate","featured","published","onSubmit","newMostra","form","valueChanges","postMostra","pipe","subscribe","next","res","console","log","mostraInserita","error","err","open","content","ariaLabelledBy","size","centered","result","then","reset","catch","navigate","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["/Users/giulia/Documents/Progetti/roma_in_mostra/client/src/app/components/mostre/add-mostra/add-mostra.component.ts","/Users/giulia/Documents/Progetti/roma_in_mostra/client/src/app/components/mostre/add-mostra/add-mostra.component.html"],"sourcesContent":["import { MostraService } from 'src/app/service/mostra.service';\nimport { Component } from '@angular/core';\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { NgbModal } from '@ng-bootstrap/ng-bootstrap';\nimport { take } from 'rxjs';\nimport { Mostra } from 'src/app/models/mostra.model';\n\n@Component({\n  selector: 'app-add-mostra',\n  templateUrl: './add-mostra.component.html',\n  styleUrls: ['./add-mostra.component.scss']\n})\nexport class AddMostraComponent {\n\n  mostraInserita: any;\n\n  form = new FormGroup({\n    title: new FormControl('', Validators.required),\n    description: new FormControl('', Validators.required),\n    image: new FormControl('', Validators.required),\n    place: new FormControl('', Validators.required),\n    endDate: new FormControl('', Validators.required),\n    featured: new FormControl('', Validators.required),\n    published: new FormControl(''),\n  })\n\n\n  constructor(\n    private router: Router,\n    private mostraService: MostraService,\n    private modalService: NgbModal\n  ){}\n\n  onSubmit(){\n    const newMostra = this.form.valueChanges;\n\n    this.mostraService.postMostra(newMostra).pipe(take(1))\n    .subscribe({\n      next: (res) => {\n        console.log(res);\n        this.mostraInserita = res;\n      },\n      error: (err) => {\n        console.log(err)\n      }});\n  }\n\n  open(content: any){\n    this.onSubmit();\n    this.modalService.open(content, { ariaLabelledBy: 'modale add mostre', size: 'lg', centered: true}).result.then(() =>{\n      this.form.reset();\n\n    }).catch((res) => {\n      this.mostraInserita = '';\n      this.router.navigate(['mostre']);\n    });\n   }\n\n\n\n}\n","<div class=\"container-main-form\">\n    <div class=\"container-form\">\n        <h3>Inserisci una nuova mostra</h3>\n        <form class=\"contenitore-form\" [formGroup]=\"form\" (onSubmit)=\"onSubmit()\">\n            <div>\n                <div class=\"form-element\">\n                    <label>Titolo:</label>\n                    <input type=\"text\" id=\"title\" name=\"title\" class=\"form-control\" formControlName=\"title\"/>\n                    <p class=\"danger\" *ngIf=\"!form.get('title')?.valid && form.get('title').touched\">Il campo titolo è obbligatorio</p>\n                </div>\n    \n                <div class=\"form-element\">\n                    <label>Descrizione:</label>\n                    <br>\n                    <textarea rows = \"5\" cols = \"60\" name = \"description\" class=\"form-control\" formControlName=\"description\"></textarea>\n                    <p class=\"danger\" *ngIf=\"!form.get('description')?.valid && form.get('description').touched\">Il campo descrizione è obbligatorio</p>\n                </div>\n    \n                <div class=\"form-element\">\n                    <label>Inserisci l'url dell'immagine:</label>\n                    <input type=\"text\" id=\"image\" name=\"image\" class=\"form-control\" formControlName=\"image\"/>\n                    <p class=\"danger\" *ngIf=\"!form.get('image')?.valid && form.get('image').touched\">Il campo url immagine è obbligatorio</p>\n                </div>\n\n                <div class=\"form-element\">\n                    <label>Luogo:</label>\n                    <input type=\"text\" id=\"place\" name=\"place\" class=\"form-control\" formControlName=\"place\"/>\n                    <p class=\"danger\" *ngIf=\"!form.get('place')?.valid && form.get('place').touched\">Il campo luogo è obbligatorio</p>\n                </div>\n\n                <div class=\"form-element\">\n                    <label>Data di fine mostra:</label>\n                    <input type=\"text\" label=\"gg/mm/aa\" id=\"endDate\" name=\"endDate\" class=\"form-control\" formControlName=\"endDate\"/>\n                    <p class=\"danger\" *ngIf=\"!form.get('endDate')?.valid && form.get('endDate').touched\">Il campo data è obbligatorio</p>\n                </div>\n\n                <div class=\"form-element\">\n                    <label>Vuoi metterla in evidenza nella pagina home?\n                    <input type=\"checkbox\" id=\"featured\" name=\"featured\" formControlName=\"featured\"/>\n                    </label>\n                    <p class=\"danger\" *ngIf=\"!form.get('featured')?.valid && form.get('featured').touched\">Il campo in evidenza è obbligatorio</p>\n                </div>\n\n                <div class=\"form-element\">\n                    <label>Vuoi pubblicarla?\n                    <input type=\"checkbox\" id=\"published\" name=\"published\" formControlName=\"published\"/>\n                    </label>\n                </div>\n\n                \n                <div class=\"container-btn-form\">\n                    <button type=\"submit\" class=\"btn btn-primary\" (click)=\"open(modaleAddMostra)\">Pubblica Mostra</button>\n                </div>\n            </div>  \n\n        </form> \n    </div>\n</div>\n\n<ng-template #modaleAddMostra let-modal>\n    <div class=\"modal-header\">\n        <h3>Mostra Aggiunta!</h3>\n        <button type=\"button\" class=\"btn-close\" aria-label=\"close\" (click)=\"modal.dismiss()\"></button>\n      </div>\n      <div class=\"modal-body\">\n        <h4>Riepilogo:</h4>\n        <p>Titolo: {{mostraInserita.title}}</p>\n        <p>Descrizione: {{mostraInserita.description}}</p>\n        <p>Luogo: {{mostraInserita.place}}</p>\n        <p>Data di fine mostra: {{mostraInserita.endDate}}</p>\n    </div>\n      <div class=\"modal-footer\">\n        <button type=\"button\" class=\"btn\" (click)=\"modal.dismiss()\" routerLink=\"mostre\">CHIUDI</button>\n        <button type=\"button\" class=\"btn btn-primary\" (click)=\"modal.close()\" ngbAutoFocus ruterLink=\"addMostra\">AGGIUNGI ALTRA RICETTA</button>\n      </div>\n</ng-template>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}