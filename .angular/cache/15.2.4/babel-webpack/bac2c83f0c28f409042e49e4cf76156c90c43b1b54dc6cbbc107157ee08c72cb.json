{"ast":null,"code":"import { FormControl, FormGroup, Validators } from '@angular/forms';\nimport { CustomValidator } from './customValidator';\nimport { MessageService } from 'primeng/api';\nimport { take } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/service/user.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"primeng/api\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/forms\";\nimport * as i6 from \"primeng/password\";\nimport * as i7 from \"primeng/toast\";\nfunction RegistrationComponent_p_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 20);\n    i0.ɵɵtext(1, \"Il campo nome \\u00E8 obbligatorio\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction RegistrationComponent_p_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 20);\n    i0.ɵɵtext(1, \"Il campo cognome \\u00E8 obbligatorio\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction RegistrationComponent_p_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 20);\n    i0.ɵɵtext(1, \"Il campo email \\u00E8 obbligatorio\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction RegistrationComponent_p_24_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 20);\n    i0.ɵɵtext(1, \"Il campo password deve contenere un carattere speciale, una maiuscola e un numero e essere lungo almeno 8 caratteri\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction RegistrationComponent_p_25_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 20);\n    i0.ɵɵtext(1, \"Il campo password \\u00E8 obbligatorio\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction RegistrationComponent_p_30_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 20);\n    i0.ɵɵtext(1, \"Il campo ripeti password \\u00E8 obbligatorio\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction RegistrationComponent_p_31_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 20);\n    i0.ɵɵtext(1, \"Attenzione la password inserita non combacia\");\n    i0.ɵɵelementEnd();\n  }\n}\nconst _c0 = function () {\n  return {\n    \"width\": \"100%\"\n  };\n};\nexport class RegistrationComponent {\n  constructor(userService, router, messageService) {\n    this.userService = userService;\n    this.router = router;\n    this.messageService = messageService;\n    this.form = new FormGroup({\n      name: new FormControl('', Validators.required),\n      lastname: new FormControl('', Validators.required),\n      username: new FormControl('', Validators.required),\n      //city: new FormControl('', Validators.required),\n      email: new FormControl('', [Validators.required, Validators.email]),\n      password: new FormControl('', [Validators.required, Validators.pattern(/^(?=.*\\d)(?=.*[A-Z])(?=.*[a-z])(?=.*[^\\w\\d\\s:])([^\\s]){8,16}$/)]),\n      ripetiPassword: new FormControl('', Validators.required)\n    }, [CustomValidator.MatchValidator('password', 'ripetiPassword')]);\n  }\n  onSubmit() {\n    const user = {\n      name: this.form.value.name,\n      email: this.form.value.email\n    };\n    this.userService.insertUser(this.form.value).pipe(take(1)).subscribe({\n      next: res => {\n        if (res) {\n          this.userService.datiUtente.next(user);\n          this.messageService.add({\n            severity: 'success',\n            summary: 'Success!',\n            detail: 'Grazie per esserti registrato!',\n            life: 2000\n          });\n          setTimeout(() => this.router.navigate(['home']), 2000);\n        } else {\n          this.messageService.add({\n            severity: 'error',\n            summary: 'Error!',\n            detail: 'Errore nella registrazione, riprova!',\n            life: 2000\n          });\n        }\n      },\n      error: err => {\n        console.log(err);\n        this.messageService.add({\n          severity: 'error',\n          summary: 'Error!',\n          detail: 'Errore nella registrazione, riprova!',\n          life: 2000\n        });\n      }\n    });\n  }\n}\nRegistrationComponent.ɵfac = function RegistrationComponent_Factory(t) {\n  return new (t || RegistrationComponent)(i0.ɵɵdirectiveInject(i1.UserService), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.MessageService));\n};\nRegistrationComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: RegistrationComponent,\n  selectors: [[\"app-registration\"]],\n  features: [i0.ɵɵProvidersFeature([MessageService])],\n  decls: 41,\n  vars: 21,\n  consts: [[1, \"container-main\"], [1, \"container-form\"], [3, \"formGroup\", \"ngSubmit\"], [1, \"form-element\"], [\"for\", \"name\"], [\"type\", \"text\", \"placeholder\", \"es. Mario\", \"id\", \"name\", \"name\", \"name\", \"formControlName\", \"name\", 1, \"form-control\"], [\"class\", \"help is-danger\", 4, \"ngIf\"], [\"for\", \"lastname\"], [\"type\", \"text\", \"placeholder\", \"es. Rossi\", \"id\", \"lastname\", \"name\", \"lastname\", \"formControlName\", \"lastname\", 1, \"form-control\"], [\"for\", \"email\"], [\"type\", \"text\", \"placeholder\", \"es. mario.rossi@gmail.com\", \"id\", \"email\", \"name\", \"email\", \"formControlName\", \"email\", 1, \"form-control\"], [\"for\", \"password\"], [\"formControlName\", \"password\", \"styleClass\", \"p-password p-component p-inputwrapper p-input-icon-right\", 1, \"w-full\", \"form-control\", 3, \"toggleMask\", \"feedback\", \"inputStyle\"], [\"for\", \"ripetiPassword\"], [\"formControlName\", \"ripetiPassword\", \"styleClass\", \"p-password p-component p-inputwrapper p-input-icon-right\", 1, \"w-full\", \"form-control\", 3, \"feedback\", \"inputStyle\"], [1, \"container-btn\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\"], [1, \"registrazione\"], [\"routerLink\", \"../login\"], [\"position\", \"bottom-right\"], [1, \"help\", \"is-danger\"]],\n  template: function RegistrationComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"form\", 2);\n      i0.ɵɵlistener(\"ngSubmit\", function RegistrationComponent_Template_form_ngSubmit_2_listener() {\n        return ctx.onSubmit();\n      });\n      i0.ɵɵelementStart(3, \"h2\");\n      i0.ɵɵtext(4, \"Entra a far parte della community!\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(5, \"div\", 3)(6, \"label\", 4);\n      i0.ɵɵtext(7, \"Nome:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(8, \"input\", 5);\n      i0.ɵɵtemplate(9, RegistrationComponent_p_9_Template, 2, 0, \"p\", 6);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(10, \"div\", 3)(11, \"label\", 7);\n      i0.ɵɵtext(12, \"Cognome:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(13, \"input\", 8);\n      i0.ɵɵtemplate(14, RegistrationComponent_p_14_Template, 2, 0, \"p\", 6);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(15, \"div\", 3)(16, \"label\", 9);\n      i0.ɵɵtext(17, \"Email:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(18, \"input\", 10);\n      i0.ɵɵtemplate(19, RegistrationComponent_p_19_Template, 2, 0, \"p\", 6);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(20, \"div\", 3)(21, \"label\", 11);\n      i0.ɵɵtext(22, \"Password:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(23, \"p-password\", 12);\n      i0.ɵɵtemplate(24, RegistrationComponent_p_24_Template, 2, 0, \"p\", 6);\n      i0.ɵɵtemplate(25, RegistrationComponent_p_25_Template, 2, 0, \"p\", 6);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(26, \"div\")(27, \"label\", 13);\n      i0.ɵɵtext(28, \"Ripeti la password:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(29, \"p-password\", 14);\n      i0.ɵɵtemplate(30, RegistrationComponent_p_30_Template, 2, 0, \"p\", 6);\n      i0.ɵɵtemplate(31, RegistrationComponent_p_31_Template, 2, 0, \"p\", 6);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(32, \"div\", 15)(33, \"button\", 16);\n      i0.ɵɵtext(34, \"REGISTRATI\");\n      i0.ɵɵelementEnd()()()();\n      i0.ɵɵelementStart(35, \"div\", 17)(36, \"h4\");\n      i0.ɵɵtext(37, \"Se sei gi\\u00E0 registrato \");\n      i0.ɵɵelementStart(38, \"a\", 18);\n      i0.ɵɵtext(39, \"clicca qui\");\n      i0.ɵɵelementEnd()()()();\n      i0.ɵɵelement(40, \"p-toast\", 19);\n    }\n    if (rf & 2) {\n      let tmp_1_0;\n      let tmp_2_0;\n      let tmp_3_0;\n      let tmp_9_0;\n      let tmp_13_0;\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"formGroup\", ctx.form);\n      i0.ɵɵadvance(7);\n      i0.ɵɵproperty(\"ngIf\", !((tmp_1_0 = ctx.form.get(\"name\")) == null ? null : tmp_1_0.valid) && ctx.form.get(\"name\").touched);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngIf\", !((tmp_2_0 = ctx.form.get(\"lastname\")) == null ? null : tmp_2_0.valid) && ctx.form.get(\"lastname\").touched);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngIf\", !((tmp_3_0 = ctx.form.get(\"email\")) == null ? null : tmp_3_0.valid) && ctx.form.get(\"email\").touched);\n      i0.ɵɵadvance(4);\n      i0.ɵɵstyleMap(i0.ɵɵpureFunction0(17, _c0));\n      i0.ɵɵproperty(\"toggleMask\", true)(\"feedback\", false)(\"inputStyle\", i0.ɵɵpureFunction0(18, _c0));\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.form.controls.password.hasError(\"pattern\") && ctx.form.get(\"password\").touched);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", !((tmp_9_0 = ctx.form.get(\"password\")) == null ? null : tmp_9_0.valid) && ctx.form.get(\"password\").touched);\n      i0.ɵɵadvance(4);\n      i0.ɵɵstyleMap(i0.ɵɵpureFunction0(19, _c0));\n      i0.ɵɵproperty(\"feedback\", false)(\"inputStyle\", i0.ɵɵpureFunction0(20, _c0));\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", !((tmp_13_0 = ctx.form.get(\"ripetiPassword\")) == null ? null : tmp_13_0.valid) && ctx.form.get(\"ripetiPassword\").touched);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.form.getError(\"diversa\") && ctx.form.get(\"ripetiPassword\").touched);\n    }\n  },\n  dependencies: [i4.NgIf, i2.RouterLink, i5.ɵNgNoValidate, i5.DefaultValueAccessor, i5.NgControlStatus, i5.NgControlStatusGroup, i5.FormGroupDirective, i5.FormControlName, i6.Password, i7.Toast],\n  styles: [\".container-main[_ngcontent-%COMP%] {\\n  padding-top: 180px;\\n  padding-bottom: 120px;\\n  background-image: url(\\\"https://www.visitareroma.com/wp-content/uploads/2019/10/Musei-Vaticani-e-Cappella-Sistina.jpg\\\");\\n  background-size: cover;\\n  background-position: center;\\n  background-repeat: no-repeat;\\n  margin-bottom: -50px;\\n}\\n\\n.container-form[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-wrap: nowrap;\\n  width: 70%;\\n  margin-left: 15%;\\n  margin-right: 15%;\\n  border-radius: 1rem;\\n  flex-direction: column;\\n  padding: 20px 20px;\\n  background-color: rgba(254, 255, 254, 0.6705882353);\\n  margin-top: 50px;\\n}\\n.container-form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%] {\\n  font-weight: bold;\\n  text-align: center;\\n  font-size: 40px;\\n  margin-bottom: 15px;\\n  margin-top: 10px;\\n}\\n.container-form[_ngcontent-%COMP%]   .container-btn[_ngcontent-%COMP%] {\\n  display: flex;\\n  justify-content: center;\\n  margin-top: 20px;\\n  margin-bottom: 10px;\\n}\\n.container-form[_ngcontent-%COMP%]   .container-btn[_ngcontent-%COMP%]   .btn.btn-primary[_ngcontent-%COMP%] {\\n  background-color: #8CB369;\\n  border-color: #8CB369;\\n}\\n\\n.registrazione[_ngcontent-%COMP%] {\\n  text-align: center;\\n  font-weight: bold;\\n  padding-top: 5px;\\n  margin-bottom: 70px;\\n}\\n.registrazione[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] {\\n  color: #8CB369;\\n  font-weight: bolder;\\n}\\n\\nlabel[_ngcontent-%COMP%] {\\n  margin-top: 10px;\\n}\\n\\np.help.is-danger[_ngcontent-%COMP%] {\\n  margin-left: 4px;\\n  color: rgb(235, 29, 29) !important;\\n  font-weight: bold !important;\\n  font-size: 12px !important;\\n}\\n\\n.dropdown[_ngcontent-%COMP%] {\\n  width: 100% !important;\\n}\\n\\n@media only screen and (min-width: 0px) and (max-width: 480px) {\\n  .container-form[_ngcontent-%COMP%] {\\n    width: 90%;\\n    margin-left: 5%;\\n    margin-right: 5%;\\n  }\\n}\\n@media only screen and (min-width: 481px) and (max-width: 768px) {\\n  .container-form[_ngcontent-%COMP%] {\\n    width: 80%;\\n    margin-left: 10%;\\n    margin-right: 10%;\\n  }\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy91c2VyL3JlZ2lzdHJhdGlvbi9yZWdpc3RyYXRpb24uY29tcG9uZW50LnNjc3MiLCJ3ZWJwYWNrOi8vLi9zcmMvc3R5bGVzL2NvbG9ycy5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUdBO0VBQ0ksa0JBQUE7RUFDQSxxQkFBQTtFQUNBLHNIQUFBO0VBQ0Esc0JBQUE7RUFDQSwyQkFBQTtFQUNBLDRCQUFBO0VBQ0Esb0JBQUE7QUFGSjs7QUFLQTtFQUNJLGFBQUE7RUFDQSxpQkFBQTtFQUNBLFVBQUE7RUFDQSxnQkFBQTtFQUNBLGlCQUFBO0VBQ0EsbUJBQUE7RUFDQSxzQkFBQTtFQUNBLGtCQUFBO0VBQ0EsbURBQUE7RUFDQSxnQkFBQTtBQUZKO0FBSUk7RUFDSSxpQkFBQTtFQUNBLGtCQUFBO0VBQ0EsZUFBQTtFQUNBLG1CQUFBO0VBQ0EsZ0JBQUE7QUFGUjtBQUtHO0VBQ0MsYUFBQTtFQUNBLHVCQUFBO0VBQ0EsZ0JBQUE7RUFDQSxtQkFBQTtBQUhKO0FBS0k7RUFDSSx5QkNyQ0E7RURzQ0EscUJDdENBO0FEbUNSOztBQVFBO0VBQ0ksa0JBQUE7RUFDQSxpQkFBQTtFQUNBLGdCQUFBO0VBQ0EsbUJBQUE7QUFMSjtBQU1JO0VBQ0ksY0NqREE7RURrREEsbUJBQUE7QUFKUjs7QUFRQTtFQUNJLGdCQUFBO0FBTEo7O0FBUUE7RUFDSSxnQkFBQTtFQUNBLGtDQUFBO0VBQ0EsNEJBQUE7RUFDQSwwQkFBQTtBQUxKOztBQVFBO0VBQ0ksc0JBQUE7QUFMSjs7QUFTQTtFQUVJO0lBQ0ksVUFBQTtJQUNBLGVBQUE7SUFDQSxnQkFBQTtFQVBOO0FBQ0Y7QUFVQTtFQUVJO0lBQ0ksVUFBQTtJQUNBLGdCQUFBO0lBQ0EsaUJBQUE7RUFUTjtBQUNGIiwic291cmNlc0NvbnRlbnQiOlsiQGltcG9ydCBcIi4uLy4uLy4uLy4uL3N0eWxlcy9jb2xvcnMuc2Nzc1wiO1xuXG5cbi5jb250YWluZXItbWFpbntcbiAgICBwYWRkaW5nLXRvcDogMTgwcHg7XG4gICAgcGFkZGluZy1ib3R0b206IDEyMHB4O1xuICAgIGJhY2tncm91bmQtaW1hZ2U6IHVybCgnaHR0cHM6Ly93d3cudmlzaXRhcmVyb21hLmNvbS93cC1jb250ZW50L3VwbG9hZHMvMjAxOS8xMC9NdXNlaS1WYXRpY2FuaS1lLUNhcHBlbGxhLVNpc3RpbmEuanBnJyk7XG4gICAgYmFja2dyb3VuZC1zaXplOiBjb3ZlcjtcbiAgICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiBjZW50ZXI7XG4gICAgYmFja2dyb3VuZC1yZXBlYXQ6IG5vLXJlcGVhdDtcbiAgICBtYXJnaW4tYm90dG9tOiAtNTBweDtcbn1cblxuLmNvbnRhaW5lci1mb3Jte1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgZmxleC13cmFwOiBub3dyYXA7XG4gICAgd2lkdGg6IDcwJTtcbiAgICBtYXJnaW4tbGVmdDogMTUlO1xuICAgIG1hcmdpbi1yaWdodDogMTUlO1xuICAgIGJvcmRlci1yYWRpdXM6IDFyZW07XG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICBwYWRkaW5nOiAyMHB4IDIwcHg7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2ZlZmZmZWFiO1xuICAgIG1hcmdpbi10b3A6IDUwcHg7XG5cbiAgICBoMntcbiAgICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICAgICAgZm9udC1zaXplOiA0MHB4O1xuICAgICAgICBtYXJnaW4tYm90dG9tOiAxNXB4O1xuICAgICAgICBtYXJnaW4tdG9wOiAxMHB4O1xuICAgIH1cblxuICAgLmNvbnRhaW5lci1idG57XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICBtYXJnaW4tdG9wOiAyMHB4O1xuICAgIG1hcmdpbi1ib3R0b206IDEwcHg7XG5cbiAgICAuYnRuLmJ0bi1wcmltYXJ5e1xuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAkb2xpdmE7XG4gICAgICAgIGJvcmRlci1jb2xvcjogJG9saXZhO1xuICAgIH1cbiAgIH1cbn1cblxuLnJlZ2lzdHJhemlvbmV7XG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xuICAgIHBhZGRpbmctdG9wOiA1cHg7XG4gICAgbWFyZ2luLWJvdHRvbTogNzBweDtcbiAgICBhe1xuICAgICAgICBjb2xvcjogJG9saXZhO1xuICAgICAgICBmb250LXdlaWdodDogYm9sZGVyO1xuICAgIH1cbn1cblxubGFiZWx7XG4gICAgbWFyZ2luLXRvcDogMTBweDtcbn1cblxucC5oZWxwLmlzLWRhbmdlcntcbiAgICBtYXJnaW4tbGVmdDogNHB4O1xuICAgIGNvbG9yOiByZ2IoMjM1LCAyOSwgMjkpIWltcG9ydGFudDtcbiAgICBmb250LXdlaWdodDogYm9sZCFpbXBvcnRhbnQ7XG4gICAgZm9udC1zaXplOiAxMnB4IWltcG9ydGFudDtcbn1cblxuLmRyb3Bkb3due1xuICAgIHdpZHRoOiAxMDAlIWltcG9ydGFudDtcbiAgICBcbn1cblxuQG1lZGlhIG9ubHkgc2NyZWVuIGFuZCAobWluLXdpZHRoOiAwcHgpIGFuZCAobWF4LXdpZHRoOiA0ODBweCl7XG5cbiAgICAuY29udGFpbmVyLWZvcm17XG4gICAgICAgIHdpZHRoOiA5MCU7XG4gICAgICAgIG1hcmdpbi1sZWZ0OiA1JTtcbiAgICAgICAgbWFyZ2luLXJpZ2h0OiA1JTtcbiAgICB9XG59XG5cbkBtZWRpYSBvbmx5IHNjcmVlbiBhbmQgKG1pbi13aWR0aDogNDgxcHgpIGFuZCAobWF4LXdpZHRoOiA3NjhweCl7XG5cbiAgICAuY29udGFpbmVyLWZvcm17XG4gICAgICAgIHdpZHRoOiA4MCU7XG4gICAgICAgIG1hcmdpbi1sZWZ0OiAxMCU7XG4gICAgICAgIG1hcmdpbi1yaWdodDogMTAlO1xuICAgIH1cblxuICAgIFxufSIsIiR0ZXJyYWNvdHRhOiAjYzI2YTRhO1xuJG9jcmE6ICNGNEEyNTk7XG4kYmx1LXZlcmRlOiAjNGY4Yzc4O1xuJG9saXZhOiAjOENCMzY5O1xuIl0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["FormControl","FormGroup","Validators","CustomValidator","MessageService","take","i0","RegistrationComponent","constructor","userService","router","messageService","name","required","lastname","username","email","password","pattern","ripetiPassword","MatchValidator","onSubmit","user","form","value","insertUser","pipe","subscribe","next","res","datiUtente","add","severity","summary","detail","life","setTimeout","navigate","error","err","console","log","selectors","features","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["/Users/giulia/Documents/Progetti/roma_in_mostra/client/src/app/components/user/registration/registration.component.ts","/Users/giulia/Documents/Progetti/roma_in_mostra/client/src/app/components/user/registration/registration.component.html"],"sourcesContent":["import { Component } from '@angular/core';\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\nimport { CustomValidator } from './customValidator';\nimport { UserService } from 'src/app/service/user.service';\nimport { Router } from '@angular/router';\nimport { MessageService } from 'primeng/api';\nimport { take } from 'rxjs';\n\n@Component({\n  selector: 'app-registration',\n  templateUrl: './registration.component.html',\n  styleUrls: ['./registration.component.scss'],\n  providers: [MessageService],\n})\nexport class RegistrationComponent {\n  \n  form = new FormGroup({\n    name: new FormControl('', Validators.required),\n    lastname: new FormControl('', Validators.required),\n    username: new FormControl('', Validators.required),\n    //city: new FormControl('', Validators.required),\n    email: new FormControl('', [Validators.required, Validators.email]),\n    password: new FormControl('', [Validators.required, Validators.pattern(/^(?=.*\\d)(?=.*[A-Z])(?=.*[a-z])(?=.*[^\\w\\d\\s:])([^\\s]){8,16}$/)]),\n    ripetiPassword: new FormControl('', Validators.required), \n  },\n  [CustomValidator.MatchValidator('password', 'ripetiPassword')]\n  )\n\n\n  constructor(\n    private userService: UserService,\n    private router: Router,\n    private messageService: MessageService,\n  ){}\n\n  onSubmit(){\n    const user = {\n      name: this.form.value.name,\n      email: this.form.value.email,\n    };\n    this.userService.insertUser(this.form.value).pipe(take(1))\n    .subscribe({\n      next: (res)=>{\n        if(res){\n          this.userService.datiUtente.next(user);\n          this.messageService.add({severity: 'success', summary: 'Success!', detail: 'Grazie per esserti registrato!', life: 2000});\n          setTimeout(() => this.router.navigate(['home']), 2000);\n        }\n        else{\n          this.messageService.add({severity: 'error', summary: 'Error!', detail: 'Errore nella registrazione, riprova!', life: 2000});\n        }\n      },\n      error: (err) =>{\n        console.log(err);\n        this.messageService.add({severity: 'error', summary: 'Error!', detail: 'Errore nella registrazione, riprova!', life: 2000});\n      }\n    })\n  }\n}\n","<div class=\"container-main\">\n    <div class=\"container-form\">\n        <form [formGroup]=\"form\" (ngSubmit)=\"onSubmit()\">\n            <h2>Entra a far parte della community!</h2>\n            <div class=\"form-element\">\n                <label for=\"name\">Nome:</label>\n                <input type=\"text\" placeholder=\"es. Mario\" id=\"name\" name=\"name\" class=\"form-control\" formControlName=\"name\">\n                <p class=\"help is-danger\" *ngIf=\"!form.get('name')?.valid && form.get('name').touched\">Il campo nome è obbligatorio</p>\n            </div>\n            <div class=\"form-element\">\n                <label for=\"lastname\">Cognome:</label>\n                <input type=\"text\" placeholder=\"es. Rossi\" id=\"lastname\" name=\"lastname\" class=\"form-control\" formControlName=\"lastname\">\n                <p class=\"help is-danger\" *ngIf=\"!form.get('lastname')?.valid && form.get('lastname').touched\">Il campo cognome è obbligatorio</p>\n            </div>\n            <div class=\"form-element\">\n                <label for=\"email\">Email:</label>\n                <input type=\"text\" placeholder=\"es. mario.rossi@gmail.com\" id=\"email\" name=\"email\" class=\"form-control\" formControlName=\"email\">\n                <p class=\"help is-danger\" *ngIf=\"!form.get('email')?.valid && form.get('email').touched\">Il campo email è obbligatorio</p>\n            </div>\n            <div class=\"form-element\">\n                <label for=\"password\">Password:</label>\n                <p-password formControlName=\"password\" class=\"w-full form-control\" [toggleMask]=\"true\" [feedback]=\"false\" styleClass=\"p-password p-component p-inputwrapper p-input-icon-right\" [style]=\"{'width':'100%'}\" [inputStyle]=\"{'width':'100%'}\"></p-password>     \n                <p class=\"help is-danger\" *ngIf=\"form.controls.password.hasError('pattern')&& form.get('password').touched\">Il campo password deve contenere un carattere speciale, una maiuscola e un numero e essere lungo almeno 8 caratteri</p>\n                <p class=\"help is-danger\" *ngIf=\"!form.get('password')?.valid && form.get('password').touched\">Il campo password è obbligatorio</p> \n            </div>\n            <div>\n                <label for=\"ripetiPassword\">Ripeti la password:</label>\n                <p-password formControlName=\"ripetiPassword\" class=\"w-full form-control\" [feedback]=\"false\" styleClass=\"p-password p-component p-inputwrapper p-input-icon-right\" [style]=\"{'width':'100%'}\" [inputStyle]=\"{'width':'100%'}\"></p-password>\n                <p class=\"help is-danger\" *ngIf=\"!form.get('ripetiPassword')?.valid && form.get('ripetiPassword').touched\">Il campo ripeti password è obbligatorio</p>\n                <p class=\"help is-danger\" *ngIf=\"form.getError('diversa') && form.get('ripetiPassword').touched\">Attenzione la password inserita non combacia</p>\n            </div>\n            <div class=\"container-btn\">\n                <button type=\"submit\" class=\"btn btn-primary\">REGISTRATI</button>\n            </div>\n        </form>\n    </div>\n    <div class=\"registrazione\">\n        <h4>Se sei già registrato <a routerLink=\"../login\">clicca qui</a></h4>\n    </div>\n</div>\n\n<p-toast position=\"bottom-right\"></p-toast>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}